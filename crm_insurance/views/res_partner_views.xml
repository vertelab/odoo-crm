<?xml version="1.0"?>
<odoo>
  <record id="res_partner_view_search_inherit_taxid" model="ir.ui.view">
    <field name="name">res.partner.view.search.inherit.taxid</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_res_partner_filter" />
    <field name="arch" type="xml">
      <filter name="inactive" position="before">
        <filter string="Tax ID" name="vat" domain="[('is_company','=',True)]" />
        <filter string="Person Number" name="personnumber" domain="[('is_company','=',False)]"/>
        <filter string="City" name="city" domain="[('is_company','=',True)]"/>
        <filter string="Fellowship" name="is_fellowship" domain="[('is_fellowship','=',True)]"/>
        <filter string="Accommodator" name="is_accommodator" domain="[('is_accommodator','=',True)]"/>
      </filter>
    </field>
  </record>
  
  <record id="res_partner_view_tree_inherit_menu" model="ir.ui.view">
    <field name="name">res.partner.view.tree.inherit.menu</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_tree" />
    <field name="arch" type="xml">
      <field name="display_name" position="before">
        <field name="company_type" />
      </field>
      <field name="phone" position="before" >
        <field name="org_prn"  />
        <field name="city" />
      </field>
    </field>
  </record>
  
  <record id="view_partners_form_crm_insurance" model="ir.ui.view">
    <field name="name">view.res.partner.form.crm.insurance.inherited</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form" />
    <field name="arch" type="xml">
      <field name="vat" position="before" >
        <field name="personnumber" placeholder="10 or 12 digital" attrs="{'invisible': [('company_type', '=', 'company')]}" />
        <field name="is_accommodator" attrs="{'invisible': [('company_type', '=', 'company')]}"/>
        <field name="liability_insurance_permission" widget="many2many_tags" attrs="{'invisible': [('company_type', '!=', 'company')]}"/>
        <field name="liability_insurance" widget="many2many_tags" attrs="{'invisible': [('company_type', '=', 'company')]}"/>
<!--
        <field name="have_property_insurance" />
-->
        <field name="is_fellowship" attrs="{'invisible': [('company_type', '!=', 'company')]}" />
        <field name="url_financial_supervisory" widget="url" attrs="{'invisible': [('company_type', '!=', 'company')]}" />
      </field>
      <field name="vat" position="attributes" >
          <attribute name="attrs">{'readonly': [('parent_id','!=',False)], 'invisible': [('company_type','!=','company')]}</attribute>
      </field>
      <field name="lang" position="after">
        <field name="membership_ids" widget="many2many_tags" placeholder="MembershipID" />
      </field>
      <div name="button_box" position="inside">
        <button class="oe_stat_button" name="accommodator_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_accommodator" widget="statinfo" />
        </button>
        <button class="oe_stat_button" name="life_protperty_insurance_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_life_protperty_insurance" widget="statinfo" />
        </button>
        <button class="oe_stat_button" name="life_insurance_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_life_insurance" widget="statinfo" />
        </button>
        <button class="oe_stat_button" name="property_insurance_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_property_insurance" widget="statinfo" />
        </button>
<!--
        <button class="oe_stat_button" name="fellowship_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_fellowship" widget="statinfo" />
        </button>
-->
        <button class="oe_stat_button" name="company_button" type="object" icon="fa-group" context="{'partner_id': active_id, 'partner_name': name}" attrs="{'invisible': [('company_type', '!=', 'company')]}">
          <field name="count_company" widget="statinfo" />
        </button>
      </div>
    </field>
  </record>
  
  <record id="action_all_form" model="ir.actions.act_window">
    <field name="name">All</field>
    <field name="res_model">res.partner</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="domain"></field>
    <field name="view_id" ref="base.res_partner_kanban_view" />
    <field name="search_view_id" ref="base.view_res_partner_filter"/>
  </record>
  
  <record id="action_fellowship_form" model="ir.actions.act_window">
    <field name="name">Fellowship</field>
    <field name="res_model">res.partner</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="domain">[("is_fellowship","=", True),("is_company","=",True)]</field>
    <field name="view_id" ref="base.res_partner_kanban_view" />
    <field name="search_view_id" ref="base.view_res_partner_filter"/>
  </record>
  
  <record id="action_accommodator_form" model="ir.actions.act_window">
    <field name="name">Accommodator</field>
    <field name="res_model">res.partner</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="domain">[("is_accommodator","=", True),("is_company","=",False)]</field>
    <field name="view_id" ref="base.res_partner_kanban_view" />
    <field name="search_view_id" ref="base.view_res_partner_filter"/>
  </record>
  
  <record id="action_company_form" model="ir.actions.act_window">
    <field name="name">Company</field>
    <field name="res_model">res.partner</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="domain">[("is_company","=", True)]</field>
    <field name="view_id" ref="base.res_partner_kanban_view" />
    <field name="search_view_id" ref="base.view_res_partner_filter"/>
  </record>
  
  <menuitem
        id="crm_menu_membership"
        name="Membership"
        parent="crm.crm_menu_root"
        sequence="0"/>
        
   <menuitem id="res_partner_menu_all"
        name="All"
        parent="crm_menu_membership"
        action="action_all_form"
        sequence="99"/>
        
  <menuitem id="res_partner_menu_fellowship"
        name="Fellowship"
        parent="crm_menu_membership"
        action="action_fellowship_form"
        sequence="2"/>
        
  <menuitem id="res_partner_menu_company"
        name="Company"
        parent="crm_menu_membership"
        action="action_company_form"
        sequence="3"/>
        
  <menuitem id="res_partner_menu_accommodator"
        name="Accommodator"
        parent="crm_menu_membership"
        action="action_accommodator_form"
        sequence="4"/>
        
  
        
  


</odoo>
